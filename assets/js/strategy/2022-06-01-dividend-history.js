const DATES = ['1986-06-23', '1986-09-22', '1986-12-19', '1987-03-23', '1987-06-22', '1987-09-21', '1987-12-24', '1988-03-21', '1988-06-20', '1988-09-26', '1988-12-23', '1989-03-22', '1989-06-16', '1989-09-22', '1989-12-22', '1990-03-16', '1990-06-15', '1990-09-24', '1990-12-20', '1991-03-18', '1991-06-17', '1991-09-23', '1991-12-20', '1992-03-23', '1992-06-19', '1992-09-24', '1992-12-21', '1993-03-19', '1993-06-18', '1993-09-24', '1993-12-23', '1994-03-18', '1994-06-17', '1994-09-26', '1994-12-22', '1995-03-20', '1995-06-20', '1995-09-27', '1995-12-26', '1996-03-20', '1996-06-20', '1996-09-25', '1996-12-26', '1997-03-19', '1997-06-19', '1997-09-24', '1997-12-24', '1998-03-19', '1998-06-18', '1998-09-23', '1998-12-23', '1999-03-23', '1999-06-21', '1999-09-22', '1999-12-23', '2000-03-22', '2000-06-21', '2000-09-20', '2000-12-27', '2001-03-21', '2001-06-20', '2001-09-19', '2001-12-24', '2002-03-19', '2002-06-19', '2002-09-25', '2002-12-24', '2003-03-19', '2003-06-18', '2003-09-24', '2003-12-23', '2004-03-19', '2004-06-23', '2004-09-23', '2004-12-22', '2005-03-22', '2005-06-22', '2005-09-22', '2005-12-28', '2006-03-22', '2006-06-22', '2006-09-26', '2006-12-27', '2007-03-21', '2007-06-20', '2007-09-19', '2007-12-26', '2008-03-12', '2008-06-12', '2008-09-11', '2008-12-16', '2009-03-12', '2009-06-11', '2009-09-10', '2009-12-11', '2010-03-12', '2010-06-10', '2010-09-10', '2010-12-10', '2011-03-11', '2011-06-10', '2011-09-12', '2011-12-12', '2012-03-13', '2012-06-12', '2012-09-11', '2012-12-12', '2013-03-11', '2013-06-11', '2013-09-11', '2013-12-12', '2014-03-12', '2014-06-11', '2014-09-11', '2014-12-12', '2015-03-12', '2015-06-11', '2015-09-11', '2015-12-14', '2016-03-14', '2016-06-13', '2016-09-13', '2016-12-13', '2017-03-14', '2017-06-13', '2017-09-13', '2017-12-13', '2018-03-14', '2018-06-14', '2018-09-13', '2018-12-13', '2019-03-14', '2019-06-13', '2019-09-12', '2019-12-13', '2020-03-13', '2020-06-12', '2020-09-14', '2020-12-14', '2021-03-15', '2021-06-14', '2021-09-14', '2021-12-15', '2022-03-14', '2022-06-14']
const VALUES = [0.00125, 0.00125, 0.003125, 0.003125, 0.003125, 0.003125, 0.004375, 0.004375, 0.004375, 0.004375, 0.0065625, 0.0065625, 0.0065625, 0.0065625, 0.009375, 0.009375, 0.009375, 0.009375, 0.01, 0.01, 0.01, 0.01, 0.01125, 0.01125, 0.01125, 0.01125, 0.013125, 0.013125, 0.013125, 0.013125, 0.01625, 0.01625, 0.01625, 0.01625, 0.02, 0.02, 0.02, 0.02, 0.02625, 0.02625, 0.02625, 0.02625, 0.0325, 0.0325, 0.0325, 0.0325, 0.0425, 0.0425, 0.0425, 0.0425, 0.05, 0.05, 0.05, 0.05, 0.065, 0.065, 0.065, 0.065, 0.075, 0.075, 0.075, 0.075, 0.08, 0.08, 0.08, 0.08, 0.085, 0.085, 0.085, 0.085, 0.095, 0.095, 0.095, 0.095, 0.115, 0.115, 0.115, 0.115, 0.14, 0.14, 0.14, 0.14, 0.17, 0.17, 0.17, 0.17, 0.24, 0.24, 0.24, 0.24, 0.24, 0.25, 0.25, 0.25, 0.25, 0.27, 0.27, 0.27, 0.27, 0.31, 0.31, 0.31, 0.31, 0.34, 0.34, 0.34, 0.34, 0.38, 0.38, 0.38, 0.38, 0.44, 0.44, 0.44, 0.44, 0.52, 0.52, 0.52, 0.52, 0.54, 0.54, 0.54, 0.54, 0.57, 0.57, 0.57, 0.57, 0.7, 0.7, 0.7, 0.7, 0.76, 0.76, 0.76, 0.76, 0.9, 0.9, 0.9, 0.9, 1.08, 1.08, 1.08, 1.08, 1.2, 1.2]

var dividendHistoryData = {
  labels: DATES,
  datasets: [{
      data: VALUES,
      backgroundColor: Array(VALUES.length).fill(COLORS.blue),
      borderColor: Array(VALUES.length).fill(COLORS.blue),
      hoverBackgroundColor: Array(VALUES.length).fill(COLORS.bluehover),
      hoverBorderColor: Array(VALUES.length).fill(COLORS.bluehover),
      borderWidth: 3,
  }]
}

var dividendHistoryOptions = {
  locale: 'nl-NL',
  scales: {
      x: {
        grid: {
          display: false
        },
        type: 'timeseries',
        ticks: {
          callback: (value, index, ticks) => {
            return new Date(value).toLocaleString([], {
              year: 'numeric'
            });
          }
        }
      },
      y: {
        ticks: {
          beginAtZero: true,
          callback: function (value, index, ticks) {
            return numFormat(value, '$', 2);
          }
        }
      }
  },
	plugins: {
		datalabels: {
			display: false
		},
		title: {
			display: true,
			text: 'Dividend historie T. Rowe Price'
		},
    subtitle: {
      display: true,
      text: 'Bron: https://troweprice.gcs-web.com/stock-information/dividends-splits',
      align: 'end',
      padding: {
        bottom: 2
      }
    },
		legend: {
			display: false
		},
		tooltip: {
			mode: 'index',
			position: 'nearest',
			callbacks: {
				label: function (context) {
					return numFormat(Number(context.parsed.y), '$', 2);
				},
				title: context => {
					const d = new Date(context[0].parsed.x);
					const f = d.toLocaleString([], {
						day: 'numeric',
						month: 'short',
						year: 'numeric'
					});
					return f;
				}
			}
		}
	}
}

var dividendHistoryCtx = document.getElementById('dividendHistory');

var dividendHistoryConfig = {
	type: 'bar',
	data: dividendHistoryData,
	options: dividendHistoryOptions
};

const dividendHistoryChart = new Chart(
	dividendHistoryCtx,
	dividendHistoryConfig
);